<h2>Template: <small>Din√°micos</small></h2>
<hr />

<form (ngSubmit)="guardar()" [formGroup]="miFormulario">
  <div class="input-group mt-4 mb-3">
    <input
      type="text"
      formControlName="nombre"
      placeholder="Nombre de la persona"
      class="form-control"
    />

    <button class="btn btn-primary float-end" type="submit">Guardar</button>
  </div>
  <span *ngIf="campoEsValido('nombre')" class="form-text text-danger"
    >El nombre debe ser de al menos 3 letras</span
  >

  <div class="input-group mt-4">
    <input
      type="text"
      class="form-control"
      placeholder="Agregar favorito"
      name="nuevoJuego"
      [formControl]="nuevoFavorito"
    />
    <button class="btn btn-outline-primary" (click)="agregarFavorito()" type="button">Agregar</button>
  </div>
  <div class="cols-sm-9" formArrayName="favoritos">
    <div *ngFor="let favorito of favoritosArr.controls; let i = index"  class="input-group mt-4 mb-4">
      <input [formControlName]="i" type="text" class="form-control" (keyup.enter)="agregarFavorito()" />
      <button class="btn btn-outline-danger" (click)="eliminar(i)" type="button">Eliminar</button>
    </div>
  </div>
</form>


<span>Valid</span>
<pre>{{miFormulario.valid}}</pre>
<br>
<span>Value</span>
<pre>{{miFormulario.value | json}}</pre>
<br>
<span>Agregar Juego</span>
<pre>{{nuevoFavorito.valid | json}}</pre>
<pre>{{nuevoFavorito.value | json}}</pre>
